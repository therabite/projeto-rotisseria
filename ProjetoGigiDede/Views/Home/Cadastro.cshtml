@{
    ViewData["Title"] = "Cadastro";
}
<link rel="stylesheet" type="text/css" href="~/css/login.css" />

<main class="hero auth-hero" id="home">
    <div class="container hero-inner">
        <div class="hero-text">
            <h1>Bem-vindo de volta</h1>
            <p>
                Acesse sua conta para acompanhar pedidos, facilitar pagamentos e ter acesso a ofertas exclusivas.
            </p>
            <p class="muted">Novo por aqui? <a href="register.html" class="link-accent">Crie sua conta</a></p>
        </div>

        <div class="auth-card-wrap">
            <form id="loginForm" class="auth-card" autocomplete="on" novalidate>
                <h2 class="card-title">Entrar</h2>

                <label class="field">
                    <span class="label-text">Email</span>
                    <input type="email" name="email" placeholder="seu@email.com" required>
                </label>

                <label class="field">
                    <span class="label-text">Senha</span>
                    <input type="password" name="password" placeholder="••••••••" required minlength="6">
                </label>

                <div class="form-actions">
                    <label class="checkbox">
                        <input type="checkbox" name="remember"> Lembrar-me
                    </label>
                    <a class="link-muted forgot" href="#">Esqueceu a senha?</a>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Entrar</button>
                    <button type="reset" class="btn btn-primary">Limpar</button>
                    <a href="register.html" class="btn btn-outline">Cadastrar</a>
                </div>
            </form>
        </div>
    </div>
</main>

<script>
    // Simple demo validation
    document.getElementById('loginForm').addEventListener('submit', function (e) {
        e.preventDefault();
        const email = this.email.value.trim();
        const pwd = this.password.value.trim();
        if (!email || !pwd) { alert('Preencha email e senha.'); return; }
        alert('Login demo: ' + email);
        // TODO: call your auth API
    loginForm.addEventListener('reset', function (e) {
        // O evento 'reset' é disparado antes dos valores serem restaurados ao padrão,
        // então usamos setTimeout para executar após o reset nativo ser aplicado.
        setTimeout(() => {
            // Limpa mensagens de validação customizadas (se existirem)
            const validationMessages = loginForm.querySelectorAll('.text-danger, .error');
            validationMessages.forEach(node => node.textContent = '');

            // Remove classes de erro em campos (se seu CSS usar)
            const errorFields = loginForm.querySelectorAll('.is-invalid, .input-error');
            errorFields.forEach(f => f.classList.remove('is-invalid', 'input-error'));

            // Opcional: limpar armazenamento local relacionado ao formulário (ex.: lembrar-me)
            try {
                localStorage.removeItem('login_remember_email');
            } catch (err) { /* ignore */ }

            // Foca o primeiro campo (email) após limpar
            const firstField = loginForm.querySelector('input[name="email"]');
            if (firstField) firstField.focus();
        }, 0);
    });
</script>

